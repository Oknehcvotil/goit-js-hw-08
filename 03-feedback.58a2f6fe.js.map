{"mappings":"YAAA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAG7BG,EAAwB,sBAE9BN,EAAKC,KAAKM,iBAAiB,SAM3B,SAAqBC,GACnBC,EAASD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAEnCC,aAAaC,QAAQR,EAAuBS,KAAKC,UAAUP,G,IAR7DT,EAAKC,KAAKM,iBAAiB,UAqB3B,SAAsBC,GACpBA,EAAES,iBACF,IAAMC,EAAaL,aAAaM,QAAQb,GACpCc,EAAmB,GAEnBF,IACFE,EAAmBL,KAAKM,MAAMH,IAGhC,IAAKE,EAAiBE,UAAYF,EAAiBG,MAEjD,YADAC,MAAM,mBAIRC,QAAQC,IAAIN,GAEZZ,EAAEmB,cAAcC,QAChBf,aAAagB,WAAWvB,E,IApC1B,IAAIG,EAAW,IASf,WACE,IAAMS,EAAaL,aAAaM,QAAQb,GAExC,GAAIY,EAAY,CACd,IAAME,EAAmBL,KAAKM,MAAMH,GACpClB,EAAKI,MAAMQ,MAAQQ,EAAiBG,MACpCvB,EAAKK,SAASO,MAAQQ,EAAiBE,O,EAd3CQ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n};\n\nconst STORAGE_FEEDBACK_FORM = 'feedback-form-state';\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n\nlet formData = {};\npopulateFormInput();\n\nfunction onFormInput(e) {\n  formData[e.target.name] = e.target.value;\n\n  localStorage.setItem(STORAGE_FEEDBACK_FORM, JSON.stringify(formData));\n}\n\nfunction populateFormInput() {\n  const savedInput = localStorage.getItem(STORAGE_FEEDBACK_FORM);\n\n  if (savedInput) {\n    const parsedSavedInput = JSON.parse(savedInput);\n    refs.input.value = parsedSavedInput.email;\n    refs.textarea.value = parsedSavedInput.message;\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const savedInput = localStorage.getItem(STORAGE_FEEDBACK_FORM);\n  let parsedSavedInput = {};\n\n  if (savedInput) {\n    parsedSavedInput = JSON.parse(savedInput);\n  }\n\n  if (!parsedSavedInput.message || !parsedSavedInput.email) {\n    alert('Fill all fields');\n    return;\n  }\n\n  console.log(parsedSavedInput);\n\n  e.currentTarget.reset();\n  localStorage.removeItem(STORAGE_FEEDBACK_FORM);\n}\n"],"names":["$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","$b00c40859be242c5$var$STORAGE_FEEDBACK_FORM","addEventListener","e","$b00c40859be242c5$var$formData","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","savedInput","getItem","parsedSavedInput","parse","message","email","alert","console","log","currentTarget","reset","removeItem","$b00c40859be242c5$var$populateFormInput"],"version":3,"file":"03-feedback.58a2f6fe.js.map"}